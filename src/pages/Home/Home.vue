<template>
  <div class="home">
    <!-- 头部组件 -->
     <div class="header-left">
          <span class="header-city">
            深圳
          </span>
      </div>
    <headers headerTitle="乐车邦">
    </headers>
    <!-- 内容 -->
    <div id="main" class="main">
      <!-- 轮播图 -->
      <div class="banner">
        <!-- mint-ui轮播图 -->
        <mt-swipe>
          <mt-swipe-item>
            <img src="https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20180109/a0659639-44ec-419b-a050-bfbb0b4975f1.jpg">
          </mt-swipe-item>
          <mt-swipe-item>
            <img src="https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20170915/f147e562-ea74-403e-a478-f9e972e3e8db.png">
          </mt-swipe-item>
          <mt-swipe-item>
            <img src="https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20180111/0358c2cd-a0af-4973-998a-81d60d2b71d6.png">
          </mt-swipe-item>
          <mt-swipe-item>
            <img src="https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20171228/dc75dee9-b5f8-49da-9839-90e47e830dd3.jpg">
          </mt-swipe-item>
          <mt-swipe-item>
            <img src="https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20180109/a0659639-44ec-419b-a050-bfbb0b4975f1.jpg">
          </mt-swipe-item>
        </mt-swipe>
      </div>
      <!-- 图标 -->
      <div class="top-cont">
        <!-- 4s店保养 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/5adbeef9-0b5b-4bb9-b99c-dc7ac05ec9b0.png')"></div>
          <span class="top-font">4S店保养</span>
        </div>
        <!-- 钣金喷漆 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/43487882-0add-4dbe-a0c6-6db80a905653.png')"></div>
          <span class="top-font">钣金喷漆</span>
        </div>
        <!-- 清洗养护 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/8c5a2d5e-e613-4483-b00f-e672a3378bdc.png');"></div>
          <span class="top-font">清洗养护</span>
        </div>
        <!-- 4s店维修 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/99f8dd2d-6890-4ea9-b513-5737058dac98.png')"></div>
          <span class="top-font">4s店维修</span>
        </div>
        <!-- 加油 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/d2e91ea8-8180-485a-a23f-96e7e6cbd589.png')"></div>
          <span class="top-font">加油</span>
        </div>
        <!-- 洗车 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20170716/71f1d13d-33a3-42f9-b264-06265d844cdf.png')"></div>
          <span class="top-font">洗车</span>
        </div>
        <!-- 更换电池 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/3de6399f-b084-41b7-a93a-1c973df273c5.png')"></div>
          <span class="top-font">更换电池</span>
        </div>
        <!-- 紧急救援 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20171029/afa3b006-02e3-41cc-8480-05f26eb6c3fc.png')"></div>
          <span class="top-font">紧急救援</span>
        </div>
        <!-- 违章代缴 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/6025351c-f12c-41e6-929b-9408e828faa0.png')"></div>
          <span class="top-font">违章代缴</span>
        </div>
        <!-- 热门活动 -->
        <div class="main-flex">
          <div class="top-pic" style="background-image: url('https://ocpvgmewj.qnssl.com/721a24eb-a108-47f1-99dd-5fca5b26154e.png')"></div>
          <span class="top-font">热门活动</span>
        </div>
      </div>
      <!-- 头条 -->
      <div class="topline">
        <div class="topline-logo">
          <div class="topline-pic"></div>
        </div>
        <div id="text-scroll" class="topline-cont">
          <ul>
            <li class="show-cont">车漆厚的车真的耐刮防锈吗?</li>
          </ul>
        </div>
      </div>
      <!-- 四个图标 -->
      <div class="activity">
        <!-- 洗从天降 -->
        <div class="activity-item" style="background-image: url('https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20171221/c1a6303b-584f-4da1-86a1-52159930ba76.png')">
        </div>
        <!-- 评价有礼 -->
        <div class="activity-item" style="background-image: url('https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20171221/f3568902-3e73-42b4-ac8f-01b8f5fdf6b1.png')">
        </div>
        <!-- 领588 -->
        <div class="activity-item" style="background-image: url('https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20170809/223fc46e-f385-4dbd-809c-04d922b93f1e.png')">
        </div>
        <!-- 邀请有礼 -->
        <div class="activity-item" style="background-image: url('https://ocpvgmewj.qnssl.com/mkt_banner_ad/banner_ad_iphone_img/20170809/b8f4c294-a287-46d9-b5e1-022845f04f3f.png')">
        </div>
      </div>
      <!-- 热门保养 -->
      <div class="hot">
        <!-- 标题 -->
        <div class="hot-title">
          热门保养
          <!-- 添加爱车 -->
          <span class="add-car">
         <i class="iconfont icon-jiahao1"></i>
            添加爱车
          </span>
        </div>
        <!-- 汽车图标 -->
        <div class="hot-car">
          <div class="hot-item" v-for="(item, index) in icons" :key="item.id" v-show="index < 8">
            <!-- 汽车图标 -->
            <div class="car-logo">
              <img v-lazy="item.imgUrl">
            </div>
            <div class="car-price">
              <span class="hot-RMB">¥{{item.minPrice}}</span>
            </div>
          </div>
        </div>
        <!-- 更多品牌 -->
        <div class="more-car">
          <span @click="showMore">更多</span>品牌<i class="iconfont icon-youjiantou"></i>
        </div>
      </div>
      <!-- 车主评价 -->
      <div class="show-title">
        车主评价
      </div>
      <!-- 评价内容 -->
      <ul class="show-ul">
        <li v-for="(item, index) in contents" :key="item.id" class="show-li line-shadow">
          <div>
            <div class="show-top">
              <!-- 用户头像 -->
              <div class="show-user-photo">
                <img v-lazy="item.headPortrait">
              </div>
              <!-- 用户名称 -->
              <div class="show-name-date">
                <div class="show-name">{{item.nickName}}</div>
                <div class="font-xs gray9">2018-1-18 18:00</div>
              </div>
            </div>
              <!-- 车型花费省钱 -->
              <div class="show-money-wrap font-xs gray9">
                <!-- 车型 -->
                <div class="show-car show-dots">车型:{{item.carType}}</div>
                <!-- 花费,省钱 -->
                <div class="show-money font-xs">
                  <span class="gray9">花费:¥{{item.costPrice}}</span>
                  <span class="show-money-red">(省:¥{{item.savePrice}})</span>
                </div>
              </div>
              <!-- 评价内容 -->
              <div class="show-content">
                <span>{{item.content}}</span>
                <span style="color:#64739c">更多<i class="iconfont icon-youjiantou"></i>
                </span>
              </div>
              <!-- 图片展示 -->
              <div class="show-photo clearfix">
                <div v-for="demo in 3" :key="demo.id" class="photo">
                  <img v-lazy="item.imgs">
                </div>
              </div>
              <!-- 地址 -->
              <div class="show-shop font-xs show-dots">
                <div>
                  <!-- 图标 -->
                  {{item.shopName}}
                </div>
              </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</template>
<script>
import Headers from '@/components/Headers/Headers'
import api from '@/api'
export default {
  created () {
    //获取图标数据
    this.$http.get(api.host + '/brandsMinPrice')
      .then(res =>{
        // console.log(res.data)
        this.icons = res.data
      })
    //获取评论数据
    this.$http.get(api.host + '/evaluate')
      .then(res =>{
        // console.log(res.data)
        this.contents = res.data
      })
  },
  data () {
    return {
      icons: [],
      contents: [],
      slots1: [
        {
          flex: 1,
          values: ['请选择','北京','广东','上海','天津','重庆'],
          className: 'slot1',
          textAlign: 'right'
        } 
      ], 
      slots2: [
        {
          flex: 1,
          values: ['请选择','北京','广东','上海','天津','重庆'],
          className: 'slot1',
          textAlign: 'right'

        }
      ]
    }
  },
  components: {
    Headers
  },
  methods : {
    showMore() {
      showAll: true
    },
    onValuesChange(picker, values) {
      if (values[0] > values[1]) {
        picker.setSlotValue(1, values[0]);
      }
    }
  }
}
</script>
<style scoped>
#main{
  flex: 1;
  margin-top: 4rem;
  height: 100%;
}
.main{
  left: 0;
  top: 0;
  width: 100%;
  bottom: 0;
  background: #f4f4f8;
  overflow-y: scroll;
}
.header-left{
  z-index: 999;
  position: fixed;
  top: 0;
  float: left;
  height: 4rem;
  width: 60px;
  text-align: left;
  padding-left: 15px;
  color: #666;
}
.header-city{
  width: 100%;
  height: 100%;
  font-size: 1.5rem;
  color: #333;
  line-height: 4rem;
  position: absolute;
  left: 1.5rem;
}
/* .picker{
  width: 100%;
  height: 100%;
  overflow-y: scroll;
} */
.banner{
  height: 15rem;
}
.banner img{
  width: 100%;
  height: 100%;
}
.top-cont{
  width: 100%;
  height: 12rem;
  background-color: #fff;
  padding-top: 1.5rem;
}
.main-flex{
  text-align: center;
  float: left;
  width: 20%;
  background-color: #fff;
  margin-bottom: 1rem;
}
.top-pic{
  width: 4rem;
  height: 4rem;
  background-color: cover;
  margin: 0 auto;
  background-size: 100% 100%;
}
.top-font{
  font-size: 1rem;
}
.topline{
  height: 4rem;
  background: #fff;
  /* padding: .8rem 0; */
  border-top: 1px solid #f1f1f1;
  border-bottom: 1px solid #f1f1f1;
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
}
.topline-logo{
  float: left;
  border-right: 1px #ececec solid;
  padding: 1rem 1rem;
}
.topline-pic{
  width: 3rem;
  height: 2rem;
  background: url('./images/pic.gif') no-repeat center center;
  background-size: 100% 100%;
}
.topline-cont{
  width: 100%;
  height: 100%;
}
.show-cont{
  line-height: 4rem;
  white-space: nowrap;
  overflow: hidden;
  font-size: 1rem;
  text-overflow: ellipsis;
  padding:0 4rem 0 4rem;
}
.activity{
  margin-top: 1rem;
  height: 12rem;
  background-color: #fff;
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
}
.activity-item{
  width: 50%;
  height: 6rem;
  float: left;
  background-size: 100% 100%;
  box-sizing: border-box;
  border-right: 1px solid #f1f1f1;
}
.hot{
  /* height: 100%; */
  /* height: 50rem; */
  margin: 1rem 0;
  overflow: hidden;
  background-color: #fff;
}
.hot-title{
  padding: 1rem;
  font-size: 1.2rem;
}
.add-car{
  color: #ffa028;
  float: right;
}
.hot-car{
  /* height: 12rem; */
  padding: 0.5rem 0 0;
  overflow-y: hidden;
}
.hot-item{
  box-sizing: border-box;
  width: 25%;
  float: left;
  text-align: center;
}
.car-logo{
  width: 5rem;
  height: 5rem;
  margin: 0 auto
}
.car-logo img{
  width: 100%;
  height: 100%;
}
.hot-RMB{
  color: #fa5a4b;
  font-size: 1rem;
  margin: 0 .2rem;
}
.more-car{
  text-align: right;
  padding: 1.3rem 1.2rem;
  color:#999;
  font-size: 1.2rem;
}
.show-title{
  margin-top:1rem;
  padding: 1.2rem 1.5rem;
  font-size: 1.2rem;
  background-color: #fff;
  border-bottom: 1px #f7f7f7 solid;
}
.show-ul{
  overflow: hidden;
}
.show-li{
  margin-bottom: 1rem;
  background: #fff;
}
.line-shadow{
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
}
.show-top{
  height: 4rem;
  padding: 1.2rem 1.2rem 1rem;
}
.show-user-photo {
  float: left;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  margin-right: 1rem;
}
.show-user-photo img{
  width: 100%;
  height: 100%;
}
.show-name-date{
  float: left;
}
.show-name{
  font-size: 1.2rem;
  margin: .5rem;
}
.font-xs{
  font-size: 1rem;
}
.gray9{
  color: #999;
}
/* .show-photo{
  width: 100%;
  height: 100%;
} */
.photo{
  width: 110px;
  height: 110px;
  margin-left: 1rem;
  float: left;
}
.photo img{
  width: 100%;
  height: 100%;
}
.show-money-wrap{
  padding: 0 1.2rem;
}
.show-car{
  float: left;
  margin-right: 2rem;
}
.show-dots {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.show-money-red{
  color: red;
}
.show-content{
  font-size: 1.2rem;
  padding:  .5rem 1.2rem .5rem;
  word-break: break-all;
  line-height: 2;
}
.show-shop{
  color: #64739c;
  padding: .5rem 1.5rem 1rem;
}
.icon-jiahao1{
  font-size: 1.5rem;
}
</style>
